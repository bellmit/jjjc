{"remainingRequest":"H:\\ideaProjects\\jjjc_platform\\taiji-ui\\node_modules\\babel-loader\\lib\\index.js!H:\\ideaProjects\\jjjc_platform\\taiji-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!H:\\ideaProjects\\jjjc_platform\\taiji-ui\\src\\utils\\request.js","dependencies":[{"path":"H:\\ideaProjects\\jjjc_platform\\taiji-ui\\src\\utils\\request.js","mtime":1617274833167},{"path":"H:\\ideaProjects\\jjjc_platform\\taiji-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\ideaProjects\\jjjc_platform\\taiji-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"H:\\ideaProjects\\jjjc_platform\\taiji-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJIOi9pZGVhUHJvamVjdHMvampqY19wbGF0Zm9ybS90YWlqaS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRvd25sb2FkID0gZG93bmxvYWQ7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiSDovaWRlYVByb2plY3RzL2pqamNfcGxhdGZvcm0vdGFpamktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIpOwoKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7Cgp2YXIgX2VsZW1lbnRVaSA9IHJlcXVpcmUoImVsZW1lbnQtdWkiKTsKCnZhciBfc3RvcmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc3RvcmUiKSk7Cgp2YXIgX2F1dGggPSByZXF1aXJlKCJAL3V0aWxzL2F1dGgiKTsKCnZhciBfZXJyb3JDb2RlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL2Vycm9yQ29kZSIpKTsKCnZhciBfdGFpamkgPSByZXF1aXJlKCJAL3V0aWxzL3RhaWppIik7CgpfYXhpb3MuZGVmYXVsdC5kZWZhdWx0cy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnOyAvLyDliJvlu7pheGlvc+WunuS+iwoKdmFyIHNlcnZpY2UgPSBfYXhpb3MuZGVmYXVsdC5jcmVhdGUoewogIC8vIGF4aW9z5Lit6K+35rGC6YWN572u5pyJYmFzZVVSTOmAiemhue+8jOihqOekuuivt+axglVSTOWFrOWFsemDqOWIhgogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgLy8g6LaF5pe2CiAgdGltZW91dDogMTAwMDAKfSk7IC8vIHJlcXVlc3Tmi6bmiKrlmagKCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5piv5ZCm6ZyA6KaB6K6+572uIHRva2VuCiAgdmFyIGlzVG9rZW4gPSAoY29uZmlnLmhlYWRlcnMgfHwge30pLmlzVG9rZW4gPT09IGZhbHNlOwoKICBpZiAoKDAsIF9hdXRoLmdldFRva2VuKSgpICYmICFpc1Rva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgKDAsIF9hdXRoLmdldFRva2VuKSgpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9IC8vIGdldOivt+axguaYoOWwhHBhcmFtc+WPguaVsAoKCiAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdnZXQnICYmIGNvbmZpZy5wYXJhbXMpIHsKICAgIHZhciB1cmwgPSBjb25maWcudXJsICsgJz8nOwoKICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnLnBhcmFtcyk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykgewogICAgICB2YXIgcHJvcE5hbWUgPSBfT2JqZWN0JGtleXNbX2ldOwogICAgICB2YXIgdmFsdWUgPSBjb25maWcucGFyYW1zW3Byb3BOYW1lXTsKICAgICAgdmFyIHBhcnQgPSBlbmNvZGVVUklDb21wb25lbnQocHJvcE5hbWUpICsgIj0iOwoKICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBpZiAoKDAsIF90eXBlb2YyLmRlZmF1bHQpKHZhbHVlKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9PYmplY3Qka2V5czIgPSBPYmplY3Qua2V5cyh2YWx1ZSk7IF9pMiA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICB2YXIga2V5ID0gX09iamVjdCRrZXlzMltfaTJdOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gcHJvcE5hbWUgKyAnWycgKyBrZXkgKyAnXSc7CiAgICAgICAgICAgIHZhciBzdWJQYXJ0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcykgKyAiPSI7CiAgICAgICAgICAgIHVybCArPSBzdWJQYXJ0ICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pICsgIiYiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgKz0gcGFydCArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAiJiI7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTsKICAgIGNvbmZpZy5wYXJhbXMgPSB7fTsKICAgIGNvbmZpZy51cmwgPSB1cmw7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIC8vIOacquiuvue9rueKtuaAgeeggeWImem7mOiupOaIkOWKn+eKtuaAgQogIHZhciBjb2RlID0gcmVzLmRhdGEuY29kZSB8fCAyMDA7IC8vIOiOt+WPlumUmeivr+S/oeaBrwoKICB2YXIgbXNnID0gX2Vycm9yQ29kZS5kZWZhdWx0W2NvZGVdIHx8IHJlcy5kYXRhLm1zZyB8fCBfZXJyb3JDb2RlLmRlZmF1bHRbJ2RlZmF1bHQnXTsKCiAgaWYgKGNvZGUgPT09IDQwMSkgewogICAgX2VsZW1lbnRVaS5NZXNzYWdlQm94LmNvbmZpcm0oJ+eZu+W9leeKtuaAgeW3sui/h+acn++8jOaCqOWPr+S7pee7p+e7reeVmeWcqOivpemhtemdou+8jOaIluiAhemHjeaWsOeZu+W9lScsICfns7vnu5/mj5DnpLonLCB7CiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCdMb2dPdXQnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9pbmRleCc7CiAgICAgIH0pOwogICAgfSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSA1MDApIHsKICAgICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgICAgbWVzc2FnZTogbXNnLAogICAgICB0eXBlOiAnZXJyb3InCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobXNnKSk7CiAgfSBlbHNlIGlmIChjb2RlICE9PSAyMDApIHsKICAgIF9lbGVtZW50VWkuTm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgdGl0bGU6IG1zZwogICAgfSk7CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsKICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CgogIGlmIChtZXNzYWdlID09ICJOZXR3b3JrIEVycm9yIikgewogICAgbWVzc2FnZSA9ICLlkI7nq6/mjqXlj6Pov57mjqXlvILluLgiOwogIH0gZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygidGltZW91dCIpKSB7CiAgICBtZXNzYWdlID0gIuezu+e7n+aOpeWPo+ivt+axgui2heaXtiI7CiAgfSBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIikpIHsKICAgIG1lc3NhZ2UgPSAi57O757uf5o6l5Y+jIiArIG1lc3NhZ2Uuc3Vic3RyKG1lc3NhZ2UubGVuZ3RoIC0gMykgKyAi5byC5bi4IjsKICB9CgogICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOmAmueUqOS4i+i9veaWueazlQoKZnVuY3Rpb24gZG93bmxvYWQodXJsLCBwYXJhbXMsIGZpbGVuYW1lKSB7CiAgcmV0dXJuIHNlcnZpY2UucG9zdCh1cmwsIHBhcmFtcywgewogICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgcmV0dXJuICgwLCBfdGFpamkudGFuc1BhcmFtcykocGFyYW1zKTsKICAgIH1dLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgIH0sCiAgICByZXNwb25zZVR5cGU6ICdibG9iJwogIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgIHZhciBjb250ZW50ID0gZGF0YTsKICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdKTsKCiAgICBpZiAoJ2Rvd25sb2FkJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykpIHsKICAgICAgdmFyIGVsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBlbGluay5kb3dubG9hZCA9IGZpbGVuYW1lOwogICAgICBlbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBlbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGluayk7CiAgICAgIGVsaW5rLmNsaWNrKCk7CiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZWxpbmsuaHJlZik7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxpbmspOwogICAgfSBlbHNlIHsKICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZW5hbWUpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChyKSB7CiAgICBjb25zb2xlLmVycm9yKHIpOwogIH0pOwp9Cgp2YXIgX2RlZmF1bHQgPSBzZXJ2aWNlOwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["H:/ideaProjects/jjjc_platform/taiji-ui/src/utils/request.js"],"names":["axios","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","method","params","url","Object","keys","propName","value","part","encodeURIComponent","key","subPart","slice","error","console","log","Promise","reject","response","res","code","data","msg","errorCode","MessageBox","confirm","confirmButtonText","cancelButtonText","type","then","store","dispatch","location","href","message","Error","Notification","title","includes","substr","length","duration","download","filename","post","transformRequest","responseType","content","blob","Blob","document","createElement","elink","style","display","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","navigator","msSaveBlob","catch","r"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Notification, MessageBox, Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\nimport errorCode from '@/utils/errorCode'\r\nimport { tansParams } from \"@/utils/taiji\";\r\n\r\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  baseURL: process.env.VUE_APP_BASE_API,\r\n  // 超时\r\n  timeout: 10000\r\n})\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n  // 是否需要设置 token\r\n  const isToken = (config.headers || {}).isToken === false\r\n  if (getToken() && !isToken) {\r\n    config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n  }\r\n  // get请求映射params参数\r\n  if (config.method === 'get' && config.params) {\r\n    let url = config.url + '?';\r\n    for (const propName of Object.keys(config.params)) {\r\n      const value = config.params[propName];\r\n      var part = encodeURIComponent(propName) + \"=\";\r\n      if (value !== null && typeof(value) !== \"undefined\") {\r\n        if (typeof value === 'object') {\r\n          for (const key of Object.keys(value)) {\r\n            let params = propName + '[' + key + ']';\r\n            var subPart = encodeURIComponent(params) + \"=\";\r\n            url += subPart + encodeURIComponent(value[key]) + \"&\";\r\n          }\r\n        } else {\r\n          url += part + encodeURIComponent(value) + \"&\";\r\n        }\r\n      }\r\n    }\r\n    url = url.slice(0, -1);\r\n    config.params = {};\r\n    config.url = url;\r\n  }\r\n  return config\r\n}, error => {\r\n    console.log(error)\r\n    Promise.reject(error)\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(res => {\r\n    // 未设置状态码则默认成功状态\r\n    const code = res.data.code || 200;\r\n    // 获取错误信息\r\n    const msg = errorCode[code] || res.data.msg || errorCode['default']\r\n    if (code === 401) {\r\n      MessageBox.confirm('登录状态已过期，您可以继续留在该页面，或者重新登录', '系统提示', {\r\n          confirmButtonText: '重新登录',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(() => {\r\n        store.dispatch('LogOut').then(() => {\r\n          location.href = '/index';\r\n        })\r\n      })\r\n    } else if (code === 500) {\r\n      Message({\r\n        message: msg,\r\n        type: 'error'\r\n      })\r\n      return Promise.reject(new Error(msg))\r\n    } else if (code !== 200) {\r\n      Notification.error({\r\n        title: msg\r\n      })\r\n      return Promise.reject('error')\r\n    } else {\r\n      return res.data\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error)\r\n    let { message } = error;\r\n    if (message == \"Network Error\") {\r\n      message = \"后端接口连接异常\";\r\n    }\r\n    else if (message.includes(\"timeout\")) {\r\n      message = \"系统接口请求超时\";\r\n    }\r\n    else if (message.includes(\"Request failed with status code\")) {\r\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\r\n    }\r\n    Message({\r\n      message: message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 通用下载方法\r\nexport function download(url, params, filename) {\r\n  return service.post(url, params, {\r\n    transformRequest: [(params) => {\r\n      return tansParams(params)\r\n    }],\r\n    headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    },\r\n    responseType: 'blob'\r\n  }).then((data) => {\r\n    const content = data\r\n    const blob = new Blob([content])\r\n    if ('download' in document.createElement('a')) {\r\n      const elink = document.createElement('a')\r\n      elink.download = filename\r\n      elink.style.display = 'none'\r\n      elink.href = URL.createObjectURL(blob)\r\n      document.body.appendChild(elink)\r\n      elink.click()\r\n      URL.revokeObjectURL(elink.href)\r\n      document.body.removeChild(elink)\r\n    } else {\r\n      navigator.msSaveBlob(blob, filename)\r\n    }\r\n  }).catch((r) => {\r\n    console.error(r)\r\n  })\r\n}\r\n\r\nexport default service\r\n"]}]}